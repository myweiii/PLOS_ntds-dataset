Antimicrobial resistance threatens to reverse many of the great strides made against pathogens responsible for disease. Understanding the molecular processes underlying resistance is crucial to quantifying and tackling the problem. Here we select resistance in Leishmania parasites to amphotericin B, an antileishmanial drug of increasing importance. We then combine genome sequencing with untargeted and targeted metabolomics analyses to identify a gene, sterol 14α-demethylase, mutation of which drives a change in sterol metabolism and loss of ergosterol, the molecular target of amphotericin B. Accumulation of a downstream intermediate of ergosterol biosynthesis indicated the enzyme itself retains activity, but the pathway to ergosterol is truncated. Expression of wild-type sterol 14α-demethylase in the resistant cells restored amphotericin B sensitivity and normal ergosterol production.